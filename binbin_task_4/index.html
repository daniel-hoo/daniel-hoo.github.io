<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 04</title>
    <link href="style.css" rel="stylesheet">
  </head>
  <body>
    <input type="text" id="input"><button type="button" id="left-in">左侧入</button><button type="button" id="right-in">右侧入</button><button type="button" id="left-out">左侧出</button><button type="button" id="right-out">右侧出</button>
    <ul id="queue"></ul>
    <script>
      var input = document.getElementById("input");
      var leftIn = document.getElementById("left-in");
      var rightIn = document.getElementById("right-in");
      var leftOut = document.getElementById("left-out");
      var rightOut = document.getElementById("right-out");
      var queue = document.getElementById("queue");
      
      function queueIn(side, element) {
        var li = document.createElement("li");
        li.innerHTML = element;
        li.onclick = function() {
          queue.removeChild(this);
        }
        if(side === "left") {
          queue.insertBefore(li, queue.firstChild);
        }else if(side === "right") {
          queue.appendChild(li);
        }
      }
      
      function queueOut(side) {
        if(queue.childElementCount > 0) {
          if(side === "left") {
            alert(queue.removeChild(queue.firstChild).innerHTML);
          }else if(side === "right") {
            alert(queue.removeChild(queue.lastChild).innerHTML);
          }
        }
      }
      
      leftIn.onclick = function() {
        if(input.value) {
          queueIn("left", input.value);
        }
      }
      
      rightIn.onclick = function() {
        if(input.value) {
          queueIn("right", input.value);
        }
      }
      
      leftOut.onclick = function() {
        queueOut("left");
      }
      
      rightOut.onclick = function() {
        queueOut("right");
      }
    </script>
  </body>
</html>